![SG-1 GOT logo](https://github.com/sg-1validator/schwifty/raw/main/GOT.png)
# schwifty Chain Information

Contents

* [Status](#status)
* [Chain Data](#chain-data)

## Status

Schwifty is the first ICS consumer chain with an NFT module! 
You want to vote "Yes" on this proposal.
Assuming the Game of Chains community approval of the Schwifty governance proposal, implementation will occur as follows:

* Timeline
  * 2022-12-01: Proposal 46 goes into voting period
  * 2022-12-04: Proposal 46 voting period ends
  * 2022-12-04: Genesis file without CCV state is generated
  * 2022-12-04: Spawn time: `2022-12-04T16:00:00.000000000Z`


`schwifty` will launch as a consumer chain through a governance proposal in the `provider` chain. Read the [Consumer Chain Start Process](/docs/Consumer-Chain-Start-Process.md) page for more details about the workflow.

The following items will be included in the proposal:
* Genesis file hash
  * The SHA256 is used to verify against the genesis file that the proposer has made available for review.
  * This "fresh" genesis file cannot be used to run the chain: it must be updated with the CCV states after the spawn time is reached.
* Binary hash
* Spawn time
  * Even if the proposal passes, the CCV states will not be available from the provider chain until after the spawn time is reached.

## Chain Data

### Binary

The binary published in this repo is the `schwiftyd` binary built using the `sg-1validator/schwifty` repo tag [v0.1.0](https://github.com/sg-1validator/schwifty/releases/tag/v0.1.0). You can generate the binary following the [Get Started section](https://github.com/sg-1validator/schwifty/tree/v0.1.0#get-started).

### Verify Binary Checksum.
Binary checksums can differ based on many things to include go, libc, and make versions. To get a consistent checksum you can use something like docker to verify.

  * [Linux amd64 build](schwiftyd)
  * Version: `v0.1.0`
  * SHA256: `0b5283d07f5b388bf31240e0ae91f54820654e3356d8d5a433095d7a99f0ddd4`

  Example of using a volume mount to get the binary outside of the container onto your ubuntu server.
  ```
  # run on your ubuntu server
  # use the `realpath` for the volume mount.
  docker run -v /home/ubuntu/go/bin:/root/go/bin -it --entrypoint /bin/bash ghcr.io/strangelove-ventures/checksum:v.0.1.0
  ```
  ```
  # run inside docker container.
  git clone https://github.com/sg-1validator/schwifty.git
  cd schwifty
  git fetch
  git checkout v0.1.0
  make install
  sha256sum ~/go/bin/schwiftyd
  ```
  expected return `0b5283d07f5b388bf31240e0ae91f54820654e3356d8d5a433095d7a99f0ddd4`  
  
  Now, verify the checksum on your local ubuntu server  
  ```
  # run on your ubuntu server
  sha256sum /home/ubuntu/go/bin/schwiftyd
  ```
  expected return `0b5283d07f5b388bf31240e0ae91f54820654e3356d8d5a433095d7a99f0ddd4`  

### Genesis file

**The genesis file for Interchain Security consumer chains must include the CCV (Cross Chain Validation) state generated by the provider chain _after_ the spawn time is reached.**

Final genesis file **with CCV state**: **`ccv-schwifty-genesis.json`**

[CCV Genesis file](https://raw.githubusercontent.com/sg-1validator/ics-testnets/main/game-of-chains-2022/schwifty/ccv-schwifty-genesis.json)

- SHA256: `417cf6779d4839dba5a16d88e5cfa3c3077daf2be261717477e6f27ed51b99a1`
- Validators must replace their `config/genesis.json` file with this one before running the binary.

The genesis file with was generated using the following settings:

* Chain ID: `schwifty-1`
* Denom: `uschwifty`
* Signed blocks window: `"8640"`
* Genesis accounts were added to provide funds for a faucet and a relayer that will be run by the testnet coordinators.
* Genesis file **without CCV state**: [`schwifty-fresh-genesis.json`](schwifty-fresh-genesis.json), SHA256: `433a6c3aefa35f7722655a8abbc1bf6ccc5cbe696477f71ccd8c7e52967120d9`
  * **This is provided only for verification, this is not the genesis file validators should be running their nodes with.**

## Endpoints

* **p2p persistent peers : `dcd0e8cb8dbc2e4026685ebbf41d8ea6268e6a99@65.109.90.176:23657,dd64f68070847a00413ecbe2dc0ed01e584ace57@goc-seeds.lavenderfive.com:36656`**
* These peers represent the `SG-1`validator. We are accepting `250` inbound peeers, but please consider sharing your peers in discord, or create a PR to [`peers.txt`](peers.txt)

* Please keep in mind that any validator that does not come online after 67% of the voting power is up and running, is likely to be slashed for downtime, potentially resulting in being jailed (the `signed_blocks_window` parameter is set to `8640`).

## Join via Bash Script

On the node machine:
- Copy the `node_key.json` and `priv_validator_key.json` files for your validator.
  - **These should be the same ones as the ones from your provider node**.
- Run one of the following scripts:
  - schwifty service: [schwifty-init.sh](schwifty-init.sh)
  - Cosmovisor service: [schwifty-init-cv.sh](schwifty-init-cv.sh)
- Wait until the spawn time is reached and the genesis file with the CCV states is available.
- Overwrite the genesis file with the one that includes the CCV states.
  - The default location is `$HOME/.schwifty/config/genesis.json`.
- Enable and start the service:
  - schwifty
    ```
    sudo systemctl enable schwifty
    sudo systemctl start schwifty
    ```
  - Cosmovisor
    ```
    sudo systemctl enable cv-schwifty
    sudo systemctl start cv-schwifty
    ```
- To follow the log, use:
  - schwifty: `journalctl -fu schwifty`
  - Cosmovisor: `journalctl -fu cv-schwifty`
- If the log does not show up right away, run `systemctl restart systemd-journald`.
